<html data-reactid=".23z5r4kb4lc" data-react-checksum="317146444"><head data-reactid=".23z5r4kb4lc.0"><meta charset="utf-8" data-reactid=".23z5r4kb4lc.0.0"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" data-reactid=".23z5r4kb4lc.0.1"><title data-reactid=".23z5r4kb4lc.0.2">Jest | A JavaScript Testing Library</title><meta name="viewport" content="width=device-width" data-reactid=".23z5r4kb4lc.0.3"><meta property="og:title" content="Jest | A JavaScript Testing Library" data-reactid=".23z5r4kb4lc.0.4"><meta property="og:type" content="website" data-reactid=".23z5r4kb4lc.0.5"><meta property="og:url" content="http:&#x2f;&#x2f;facebook.github.io&#x2f;jest&#x2f;index.html" data-reactid=".23z5r4kb4lc.0.6"><meta property="og:image" content="http:&#x2f;&#x2f;facebook.github.io&#x2f;react&#x2f;img&#x2f;logo_og.png" data-reactid=".23z5r4kb4lc.0.7"><meta property="og:description" content="A JavaScript Testing Library" data-reactid=".23z5r4kb4lc.0.8"><meta property="fb:app_id" content="623268441017527" data-reactid=".23z5r4kb4lc.0.9"><link rel="shortcut icon" href="http:&#x2f;&#x2f;facebook.github.io&#x2f;react&#x2f;favicon.ico" data-reactid=".23z5r4kb4lc.0.a"><link rel="stylesheet" href="&#x2f;jest&#x2f;css&#x2f;jest.css" data-reactid=".23z5r4kb4lc.0.b"><script type="text&#x2f;javascript" src="&#x2f;&#x2f;use.typekit.net&#x2f;vqa1hcx.js" data-reactid=".23z5r4kb4lc.0.c"></script><script type="text&#x2f;javascript" data-reactid=".23z5r4kb4lc.0.d">try{Typekit.load();}catch(e){}</script></head><body data-reactid=".23z5r4kb4lc.1"><div class="container" data-reactid=".23z5r4kb4lc.1.0"><div class="nav-main" data-reactid=".23z5r4kb4lc.1.0.0"><div class="wrap" data-reactid=".23z5r4kb4lc.1.0.0.0"><a class="nav-home" href="&#x2f;jest&#x2f;index.html" data-reactid=".23z5r4kb4lc.1.0.0.0.0">Jest</a><ul class="nav-site" data-reactid=".23z5r4kb4lc.1.0.0.0.1"><li data-reactid=".23z5r4kb4lc.1.0.0.0.1.$docs"><a href="&#x2f;jest&#x2f;docs&#x2f;tutorial.html" class="active" data-reactid=".23z5r4kb4lc.1.0.0.0.1.$docs.0">docs</a></li><li data-reactid=".23z5r4kb4lc.1.0.0.0.1.$support"><a href="&#x2f;jest&#x2f;support.html" class="" data-reactid=".23z5r4kb4lc.1.0.0.0.1.$support.0">support</a></li><li data-reactid=".23z5r4kb4lc.1.0.0.0.1.$github"><a href="http:&#x2f;&#x2f;github.com&#x2f;facebook&#x2f;jest" class="" data-reactid=".23z5r4kb4lc.1.0.0.0.1.$github.0">github</a></li></ul></div></div><section class="content wrap documentationContent" data-reactid=".23z5r4kb4lc.1.0.1"><div class="nav-docs" data-reactid=".23z5r4kb4lc.1.0.1.0"><div class="nav-docs-section" data-reactid=".23z5r4kb4lc.1.0.1.0.$Quick Start"><h3 data-reactid=".23z5r4kb4lc.1.0.1.0.$Quick Start.0">Quick Start</h3><ul data-reactid=".23z5r4kb4lc.1.0.1.0.$Quick Start.1"><li data-reactid=".23z5r4kb4lc.1.0.1.0.$Quick Start.1.$getting-started"><a style="margin-left:0;" class="" href="&#x2f;jest&#x2f;docs&#x2f;getting-started.html" data-reactid=".23z5r4kb4lc.1.0.1.0.$Quick Start.1.$getting-started.0">Getting Started</a></li><li data-reactid=".23z5r4kb4lc.1.0.1.0.$Quick Start.1.$tutorial"><a style="margin-left:0;" class="" href="&#x2f;jest&#x2f;docs&#x2f;tutorial.html" data-reactid=".23z5r4kb4lc.1.0.1.0.$Quick Start.1.$tutorial.0">Tutorial</a></li></ul></div><div class="nav-docs-section" data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive"><h3 data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.0">Deep Dive</h3><ul data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.1"><li data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.1.$mock-functions"><a style="margin-left:0;" class="" href="&#x2f;jest&#x2f;docs&#x2f;mock-functions.html" data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.1.$mock-functions.0">Mock functions</a></li><li data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.1.$automatically-generated-mocks"><a style="margin-left:0;" class="" href="&#x2f;jest&#x2f;docs&#x2f;automatically-generated-mocks.html" data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.1.$automatically-generated-mocks.0">Automatically generated mocks</a></li><li data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.1.$manual-mocks"><a style="margin-left:0;" class="" href="&#x2f;jest&#x2f;docs&#x2f;manual-mocks.html" data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.1.$manual-mocks.0">Manual mocks</a></li><li data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.1.$timer-mocks"><a style="margin-left:0;" class="active" href="&#x2f;jest&#x2f;docs&#x2f;timer-mocks.html" data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.1.$timer-mocks.0">Timer mocks</a></li><li data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.1.$dependency-injection"><a style="margin-left:0;" class="" href="&#x2f;jest&#x2f;docs&#x2f;dependency-injection.html" data-reactid=".23z5r4kb4lc.1.0.1.0.$Deep Dive.1.$dependency-injection.0">Dependency Injection</a></li></ul></div><div class="nav-docs-section" data-reactid=".23z5r4kb4lc.1.0.1.0.$Reference"><h3 data-reactid=".23z5r4kb4lc.1.0.1.0.$Reference.0">Reference</h3><ul data-reactid=".23z5r4kb4lc.1.0.1.0.$Reference.1"><li data-reactid=".23z5r4kb4lc.1.0.1.0.$Reference.1.$api"><a style="margin-left:0;" class="" href="&#x2f;jest&#x2f;docs&#x2f;api.html" data-reactid=".23z5r4kb4lc.1.0.1.0.$Reference.1.$api.0">API</a></li></ul></div></div><div class="inner-content" data-reactid=".23z5r4kb4lc.1.0.1.1"><h1 data-reactid=".23z5r4kb4lc.1.0.1.1.0">Timer mocks</h1><div data-reactid=".23z5r4kb4lc.1.0.1.1.1"><hr data-reactid=".23z5r4kb4lc.1.0.1.1.1.0"><p data-reactid=".23z5r4kb4lc.1.0.1.1.1.1"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.1.0">The native timer functions, i.e., </span><code data-reactid=".23z5r4kb4lc.1.0.1.1.1.1.1">setTimeout</code><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.1.2">, </span><code data-reactid=".23z5r4kb4lc.1.0.1.1.1.1.3">setInterval</code><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.1.4">, </span><code data-reactid=".23z5r4kb4lc.1.0.1.1.1.1.5">clearTimeout</code><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.1.6">, </span><code data-reactid=".23z5r4kb4lc.1.0.1.1.1.1.7">clearInterval</code><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.1.8"> are not suitable for the test environment since they depend on real time to elapse. Fake timer functions are provided to make assertions about behaviors with respect to these timers.</span></p><div class="prism language-javascript" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2"><span class="token comment" spellcheck="true" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$0">&#x2f;&#x2f; Assume module &#x27;PlayerGames&#x27; called
</span><span class="token comment" spellcheck="true" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$1">&#x2f;&#x2f;   setTimeout(callback, 1000);
</span><span class="token function" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$2"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$2.0">require</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$2.$1">(</span></span><span class="token string" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$3">&#x27;PlayGames&#x27;</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$4">)</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$5">;</span><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.6">
</span><span class="token function" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$7"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$7.0">expect</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$7.$1">(</span></span><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.8">setTimeout</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$9">.</span><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.a">mock</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$11">.</span><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.c">calls</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$13">.</span><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.e">length</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$15">)</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$16">.</span><span class="token function" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$17"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$17.0">toEqual</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$17.$1">(</span></span><span class="token number" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$18">1</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$19">)</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$20">;</span><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.l">
</span><span class="token function" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$22"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$22.0">expect</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$22.$1">(</span></span><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.n">setTimeout</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$24">.</span><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.p">mock</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$26">.</span><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.r">calls</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$28">[</span><span class="token number" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$29">0</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$30">]</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$31">[</span><span class="token number" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$32">1</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$33">]</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$34">)</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$35">.</span><span class="token function" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$36"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$36.0">toEqual</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$36.$1">(</span></span><span class="token number" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$37">1000</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$38">)</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.2.$39">;</span></div><p data-reactid=".23z5r4kb4lc.1.0.1.1.1.3"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.3.0">Or if the time elapse is not really important, you just need to run the timer callbacks once:</span></p><div class="prism language-javascript" data-reactid=".23z5r4kb4lc.1.0.1.1.1.4"><span class="token comment" spellcheck="true" data-reactid=".23z5r4kb4lc.1.0.1.1.1.4.$0">&#x2f;&#x2f; Every timer function callback will be executed once
</span><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.4.1">jest</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.4.$2">.</span><span class="token function" data-reactid=".23z5r4kb4lc.1.0.1.1.1.4.$3"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.4.$3.0">runTimersOnce</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.4.$3.$1">(</span></span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.4.$4">)</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.4.$5">;</span></div><p data-reactid=".23z5r4kb4lc.1.0.1.1.1.5"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.5.0">Or if you may have timers that may register other timers and don&#x27;t want to manage the number of times to run or choose an arbitrary large length of time to run, you can run timers repeatedly:</span></p><div class="prism language-javascript" data-reactid=".23z5r4kb4lc.1.0.1.1.1.6"><span class="token comment" spellcheck="true" data-reactid=".23z5r4kb4lc.1.0.1.1.1.6.$0">&#x2f;&#x2f; Every timer function callback will be executed in time order until there
</span><span class="token comment" spellcheck="true" data-reactid=".23z5r4kb4lc.1.0.1.1.1.6.$1">&#x2f;&#x2f; are no more.
</span><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.6.2">jest</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.6.$3">.</span><span class="token function" data-reactid=".23z5r4kb4lc.1.0.1.1.1.6.$4"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.6.$4.0">runTimersRepeatedly</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.6.$4.$1">(</span></span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.6.$5">)</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.6.$6">;</span></div><p data-reactid=".23z5r4kb4lc.1.0.1.1.1.7"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.7.0">To clear all timers:</span></p><div class="prism language-javascript" data-reactid=".23z5r4kb4lc.1.0.1.1.1.8"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.8.0">jest</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.8.$1">.</span><span class="token function" data-reactid=".23z5r4kb4lc.1.0.1.1.1.8.$2"><span data-reactid=".23z5r4kb4lc.1.0.1.1.1.8.$2.0">clearTimers</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.8.$2.$1">(</span></span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.8.$3">)</span><span class="token punctuation" data-reactid=".23z5r4kb4lc.1.0.1.1.1.8.$4">;</span></div></div><div class="docs-prevnext" data-reactid=".23z5r4kb4lc.1.0.1.1.2"><a class="docs-prev" href="manual-mocks.html" data-reactid=".23z5r4kb4lc.1.0.1.1.2.0">← Prev</a><a class="docs-next" href="dependency-injection.html" data-reactid=".23z5r4kb4lc.1.0.1.1.2.1">Next →</a></div></div></section><footer class="wrap" data-reactid=".23z5r4kb4lc.1.0.2"><div class="right" data-reactid=".23z5r4kb4lc.1.0.2.0">© 2014 Facebook Inc.</div></footer></div><div id="fb-root" data-reactid=".23z5r4kb4lc.1.1"></div><script data-reactid=".23z5r4kb4lc.1.2">
            (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
            (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
            })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
            ga('create', 'UA-41298772-1', 'facebook.github.io');
            ga('send', 'pageview');

            !function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)
            ){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");
          </script><script type="text/javascript" src="/jest/docs/timer-mocks.includeRequire.bundle"> </script><packaged ></packaged><script type="text/javascript">require('es5-shim/es5-shim.js');require('es5-shim/es5-sham.js');var React = require('React');var ReactMount = require('ReactMount');var Component = require('website/src/jest/docs/timer-mocks.js');ReactMount.allowFullPageRender = true;React.renderComponent(Component({"requestParams":{}}),document);</script></body></html>